<!DOCTYPE html>
<html>
    <head>


		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="index.css">
        
        <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>        
        <script src="http://netdna.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
        
        <meta charset="utf-8">
        <title>ELPaaS - Event Log Privacy as a Service</title>
    </head>
    
    
    <body>
		<header>
			<h1>ELPaaS - Event Log Privacy as a Service</h1>
		</header>
		<br>
		<!-- Buttons for fade in/out modals -->
		<p>
			<button class="btn btn-primary" type="button" data-toggle="modal" data-target="#view_file">
				View a File
			</button>
			OR
			<button class="btn btn-primary" type="button" data-toggle="modal" data-target="#upload_file">
				Upload a File
			</button>
		</p>
		
		<!-- File Download Modal -->
			<div class="modal fade" tabindex="-1" role="dialog" id="view_file">
				<div class="modal-dialog" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<h5>Enter a secure token</h5>
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
									&times;
							</button>
						</div>
						{% load crispy_forms_tags %}
						<form action="{% url 'index' %}" method="post" enctype="multipart/form-data">
						<div class="modal-body">
							{% csrf_token %}
							{{download_form|crispy}}
						</div>
						<div class="modal-footer">
							<button type="submit" class="btn btn-primary" >Submit</button>
						</div>
						</form>	
					</div>
				</div>
			</div>
			
		<!-- File Upload Modal -->
			<div class="modal fade" tabindex="-1" role="dialog" id="upload_file">
				<div class="modal-dialog" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<h5>Upload a Log-File</h5>
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
									&times;
							</button>
						</div>
						{% load crispy_forms_tags %}
						<form action="{% url 'index' %}" method="post" enctype="multipart/form-data">
						<div class="modal-body">
							{% csrf_token %}
							{{upload_form|crispy}}
						</div>
						<div class="modal-footer">
							<button type="submit" class="btn btn-primary" >Submit</button>
						</div>
						</form>	
					</div>
				</div>
			</div>
			
		<!-- Uploaded Files -->
			<div id="processed_files">
				<h2>Uploaded documents</h2>
				{% if documents %}
					<ul class="list-group">
					{% for document in documents %}
						<li>
							<a href="{{ document.docfile.url }}">
								{{ document.docfile.name }}
							</a>
						</li>
					{% endfor %}
					</ul>
				{% else %}
					<p>No documents.</p>
				{% endif %}
			</div>	
		<!-- Footer with copyright/contect stuff -->
        <footer>
			<p>
				Â©Copyright 2050 by nobody. All rights reversed.
			</p>
		</footer>
    </body>
</html>
